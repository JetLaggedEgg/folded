/* Folded by Daniel Sarracayo - Reusable accordions. */
function folded(){var t=this;this.numClicked=0,this.resizeFlag=!1,this.settings={aparent:"folded-wrap",maxOpen:1,atype:"stacked",openFirst:!1,firstTab:0,hasCarets:!1,foldSpeed:250,togC:"folded-toggle",togCActive:"folded-toggle-active",tabWrap:"folded-tab-wrap",tabC:"folded-tab",tabCActive:"folded-tab-active",scattBttn:"scatt-bttn",scattBttnID:"scatt-bttn-unique",scattBttnActive:"scatt-bttn-active",scattContent:"scatt-content",tabContentWrap:"folded-tab-content-wrap",foldContents:"folded-content"},this.s=t.settings,this.init=function(s){for(var e in t.s)s[e]&&(t.s[e]=s[e]);t.setup()},this.setup=function(){$("."+t.s.aparent).length>0||"scattered"===t.s.atype?t.ftype[t.s.atype].init():console.warn("Folded: aparent not found - '"+t.s.aparent+"'")},this.ftype={stacked:{init:function(){this.construct()},construct:function(){$("."+t.s.aparent).children("."+t.s.foldContents).hide(),t.s.openFirst===!0&&t.funcs.openFirst(),this.assign()},assign:function(){$("."+t.s.aparent).children("."+t.s.togC).click(function(){t.track.orderIncre(this),$(this).hasClass(t.s.togCActive)?$(this).removeClass(t.s.togCActive).next().slideToggle(t.s.foldSpeed):t.funcs.numActive()<t.s.maxOpen?$(this).addClass(t.s.togCActive).next().slideToggle(t.s.foldSpeed):(t.track.closeFirst(),$(this).addClass(t.s.togCActive).next().slideToggle(t.s.foldSpeed))})}},tabbed:{init:function(){this.construct()},construct:function(){if($("."+t.s.aparent).children("."+t.s.tabContentWrap).children("."+t.s.foldContents).hide(),0!=t.s.firstTab){$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabC).eq(t.s.firstTab-1).addClass(t.s.tabCActive);var s=$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabC).eq(t.s.firstTab-1).data("content");$("#"+s).show()}else $("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabC).first().addClass(t.s.tabCActive),$("."+t.s.aparent).children("."+t.s.tabContentWrap).children("."+t.s.foldContents).first().show();this.assign()},assign:function(){$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabC).click(function(){if($(this).hasClass("."+t.s.tabCActive));else{var s=$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabCActive).data("content");$("."+t.s.aparent).children("."+t.s.tabContentWrap).children("#"+s).hide(),$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabCActive).removeClass(t.s.tabCActive),$(this).addClass(t.s.tabCActive);var e=$(this).data("content");$("."+t.s.aparent).children("."+t.s.tabContentWrap).children("#"+e).show()}})}},buttons:{init:function(){this.construct()},construct:function(){$("."+t.s.aparent).children("."+t.s.tabContentWrap).children("."+t.s.foldContents).hide(),0!=t.s.firstTab&&$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabC).eq(t.s.firstTab-1).addClass(t.s.tabCActive).slideToggle(t.s.foldSpeed),this.assign()},assign:function(){$("."+t.s.aparent).children("."+t.s.tabWrap).children("."+t.s.tabC).click(function(){if($(this).hasClass(t.s.tabCActive)){var s=$(this).data("content");$("#"+s).slideToggle(t.s.foldSpeed),$(this).removeClass(t.s.tabCActive)}else{var s=$("."+t.s.tabCActive).eq(0).data("content");$("#"+s).slideToggle(t.s.foldSpeed),$("."+t.s.tabCActive).eq(0).removeClass(t.s.tabCActive),$(this).addClass(t.s.tabCActive);var e=$(this).data("content");$("#"+e).slideToggle(t.s.foldSpeed)}})}},scattered:{init:function(){this.construct()},construct:function(){t.s.openFirst===!1?$("#"+$("#"+t.s.scattBttnID).data("content")).hide():t.s.openFirst===!0&&$("#"+t.s.scattBttnID).addClass(t.s.scattBttnActive),this.assign()},assign:function(){$("#"+t.s.scattBttn).click(function(){if($(this).hasClass(t.s.scattBttnActive)){var s=$(this).data("content");$("#"+s).slideToggle(t.s.foldSpeed),$(this).removeClass(t.s.scattBttnActive)}else{$(this).addClass(t.s.scattBttnActive);var e=$(this).data("content");$("#"+e).is(":Hidden")&&$("#"+e).slideToggle(t.s.foldSpeed)}})}}},this.funcs={closeAll:function(){$("."+t.s.aparent).children("."+t.s.foldContents).each(function(){$(this).slideToggle(t.s.foldSpeed)}),$("."+t.s.aparent).children("."+t.s.togC).removeClass(t.s.togCActive)},closeActive:function(){$("."+t.s.aparent).children("."+t.s.togCActive).next().each(function(){$(this).slideToggle(t.s.foldSpeed)}),$("."+t.s.aparent).children("."+t.s.togCActive).removeClass(t.s.togCActive)},openFirst:function(){$("."+t.s.aparent).children("."+t.s.togCActive).first().addClass(t.s.togCActive).next().slideToggle(t.s.foldSpeed)},numActive:function(){return $("."+t.s.aparent).children("."+t.s.togCActive).length}},this.track={orderIncre:function(s){$(s).data("order",t.numClicked),t.numClicked++},closeFirst:function(){for(var s=+t.numClicked-(t.s.maxOpen+1),e=0;e<$("."+t.s.togCActive).length;e++)$("."+t.s.aparent).children("."+t.s.togCActive).eq(e).data("order")==s&&$("."+t.s.aparent).children("."+t.s.togCActive).eq(e).removeClass(t.s.togCActive).next().slideToggle(t.s.foldSpeed)}}}
